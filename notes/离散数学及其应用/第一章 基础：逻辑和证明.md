# 第一章 基础：逻辑和证明

## 1.1 命题逻辑

### 1.1.1 引言

逻辑规则给出数学语句的准确含义，这些规则用来区分有效和无效的数学论证。

逻辑不仅对理解数学推理十分重要，而且在计算机科学中有许多应用。这些逻辑规则用于计算机电路设计、计算机程序构造、程序正确性证明以及许多其他方面。

### 1.1.2 命题

命题是一个或真或假的**陈述语句**，即一个陈述事实的句子，不能即真又假。

如果一个命题是真命题，它的真值为真，用**T**表示；如果他是假命题，其真值为假，用**F**表示。

涉及命题的逻辑领域称为**命题演算**或**命题逻辑**。它最初是2300多年前由古希腊哲学家亚里士多德系统的创建的。

许多数学陈述都是由一个或多个命题组合而来。成为**复合命题**的新命题由已有的命题用逻辑运算组合而来。

**定义1**
令p为一命题，则p的否定表示为¬p（也可以表示成p+上划线），指“不是p所说的情形”。命题¬p读作“非p”。¬p 的真值和p的真值相反。

命题的否定也可以看做否定运算符作用在命题上的结果。

p|¬p
:-:|:-:
T|F
F|T

**定义2**
令p和q为命题。p、q的**合取**用p∧q表示，即命题“p并且q”。当p和q都为真时，p∧q命题为真，否则为假。

p|q|p∧q
:-:|:-:|:-:
T|T|T
T|F|F
F|T|F
F|F|F

**定义3**
令p和q为命题。p、q的**析取**用p∨q表示，即命题“p或q”。当p和q均为假时，p∨q命题为假，否则为真。

p|q|p∨q
:-:|:-:|:-:
T|T|T
T|F|T
F|T|T
F|F|F

**定义4**
令p和q为命题。p和q的异或（记作p⊕q）是这样一个命题：当p和q中恰好只有一个为真时命题为真，否则为假。

p|q|p⊕q
:-:|:-:|:-:
T|T|F
T|F|T
F|T|T
F|F|F

### 1.1.3 条件语句

**定义5**
令p和q为命题。条件语句p→q是命题“如果p，则q”。当p为真而q为假时，条件语句p→q为假，否则为真。在条件语句p→q中，p称为假设（前件、前提），q称为结论（后件）。

条件语句也称为**蕴含**

p|q|p→q
:-:|:-:|:-:
T|T|T
T|F|F
F|T|T
F|F|T

由于条件语句在数学推理中具有很重要的作用，所以表达p→q的术语也能很多。

“如果p，则q”|“p蕴含q”
:-:|:-:
“如果p，q”|“q仅当p”
“p是q的充分条件”|“q的充分条件是p"
”q如果p“|”q每当p“
”p的必要条件是q“|”q由p得出“
”q除非¬p“|

**逆命题、逆否命题与反命题** 由条件语句p→q可以构成一些新的条件语句。特别是三个常见的相关条件语句还拥有特殊的名称。命题q→p称为p→q的**逆命题**，而p→q的**逆否命题**是命题¬p→¬q。命题¬p→q称为p→q的**反命题**。我们发现，三个有p→q衍生的条件语句中，只有逆否命题总是和p→¬q具有相同的真值。

当两个复合命题总是具有相同真值时，我们称它们是**等价的**。一个常见的逻辑错误是假设条件语句的逆或反等价于这个条件语句。

**定义6**
令p和q为命题。双条件语句p↔q是命题”p当且仅当q“。当p和q有同样的真值时，双条件语句为真，否则为假。双条件语句也成为双向蕴含。

p|q|p↔q
:-:|:-:|:-:
T|T|T
T|F|F
F|T|F
F|F|F

一般还有一些其他方式来表达p↔q：

* ”p是q的充分必要条件“；
* ”如果p那么q，反之亦然“；
* ”p当且仅当q”。

双条件语句的最后一种表示方式可以用缩写符号“iff”代替“当且仅当”（if and only if）。注意，p↔q与(p→q)∧(q→p)有完全相同的真值。

**双条件的隐式使用** 应当注意到，在自然语言中双条件并不总是显式地使用。特别是在自然语言中很少使用双条件中的“当且仅当”结构。通常用“如果，那么”或“仅当”结构来表示双蕴含。“当且仅当”的另一部分则是蕴含的。也就是逆命题是蕴含的而没有说明出来。由于自然语言的这种不精确性，所以我们需要对自然语言中的条件语句是否隐含它的逆做出假设。因为数学和逻辑注重精确，所以我们总是区分条件语句p→q和双条件语句p↔q。

### 1.1.4 复合命题的真值表

可以使用合取、析取、条件、双条件以及否定这些逻辑联结词来构造含有一些命题变元的机构复杂的复合命题。可以用真值表来决定这些复合命题的真值。

例如复合命题(p∨¬q)→(p∧q)的真值表

p|q|¬q|p∨¬q|p∧q|(p∨¬q)→(p∧q)
:-:|:-:|:-:|:-:|:-:|:-:
T|T|F|T|T|T
T|F|T|T|F|F
F|T|F|F|F|T
F|F|T|T|F|F

### 1.1.5 逻辑运算符的优先级

我们通常使用括号来规定符合命题中的逻辑运算符的作用顺序。为了减少括号的数量，规定了运算符的优先级。

运算符|优先级
:-:|:-:
¬|1
∧|2
∨|3
→|4
↔|5

### 1.1.6 逻辑运算和位运算

如果一个变量的值或为真或为假，则次变量就称为**布尔变量**。

计算机的**位运算**对应于逻辑联结词。只要在运算符的真值表中用1代替T，用0代替F，即可。还可以用符号OR、AND和XOR表示运算符∧、∨和⊕。

## 1.2 命题逻辑的应用

### 1.2.1 引言

逻辑在数学、计算机科学和其他许多学科有着许多重要的应用。数学、自然科学以及自然语言中的语句通常不太准确，甚至有歧义。为了使其精确表达，可以将它们翻译成逻辑语言。

命题逻辑及其规则可用于设计计算机电路、构造计算机程序、验证程序的正确性以及构造专家系统。

### 1.2.2 语句翻译

有许多理由要把语句翻译成命题变量和逻辑联结词构成的表达式。特别是，汉语（以及其他各种人类语言）常有二义性。把语句翻译成复合命题可以消除歧义。注意，这样翻译时也许需要根据语句的含义做一些合理的假设。此外，一旦完成了从语句到逻辑表达式的翻译，我们就可以分析这些逻辑表达式以确定他们的真值，对他们进行操作。并用推理规则对它们进行推理。

**例1**
"你可以在校园访问因特网，仅当你主修计算机科学或者你不是新生"。
我们用命题变元表示语句中的每个成分，并找出他们之间合适的逻辑联结词。
设：a、c、f分别表示“你可以在校园访问因特尔网”、“你主修计算机科学”、“你是个新生”。
上述语句可以译为：(c∨¬f)→a

**例2**
“如果你身高不足120cm，那么你不能乘坐过山车，除非你年满16周岁。”
设：q、r和s分别为“你能乘坐过山车”、“你身高不足120cm”和“你年满16周岁”
得：(r∧¬s)→¬q

### 1.2.3 系统规范说明

在描述硬件系统和软件系统是，将自然语言语句翻译成逻辑表达式是很重要的一部分。系统和软件工程师根据自然语言描述的需求，生成精确而无二义性的规范说明，这些规范说明可以作为系统开发的基础。

**例3**
“当文件系统已满时，不能够发送自动应答”。
设：p和q分别为“文件系统满了”和“发送自动应答”。
得：p→¬q

系统规范说明应该是**一致**的，也就是说，系统规范说明不应该包含可能导致矛盾的相互冲突的需求。当规范说明不一致时，就无法开发出一个满足所有规范说明的系统。

**例4**
“诊断消息存储在缓冲区中或者被重传。”
“诊断消息没有存储在缓冲区中。”
“如果诊断消息存储在缓冲区中，那么它被重传”
设：p为“诊断消息存储在缓冲区中”，q为“诊断消息被重传”。
得：通过真值表可验证上述三个命题是一致的，因为真值相同。

**例5**
如果在例4中加上一个系统规范说明“诊断消息没有被重传”，就会不一致。

### 1.2.4 布尔搜索

逻辑联结词关广泛用于大量信息搜索中，例如搜索网页索引。由于搜索采用命题逻辑的技术，所以称为布尔搜索。

在布尔搜索中，联结词AND用于匹配同时包含两个搜索项的记录，联结词OR用于匹配两个搜索项之一或两项均匹配的记录，而联结词NOT（还有时候写作AND NOT）用于排除某个特定的搜索项。当布尔搜索用来定位可能感兴趣的信息时，经常需要细心安排逻辑联结词的使用。

### 1.2.5 逻辑谜题

可以用逻辑推理解决的谜题称为**逻辑谜题**。求解逻辑谜题是实践逻辑规则的一种最好的方法。同样，用于执行逻辑推理的计算机程序通常也使用著名的逻辑谜题来演示它们的能力。

两个谜题：雷蒙德·斯马亚在文献[Sm78]中提出的谜题，与两个孩子有关的**泥巴孩子谜题**。

### 1.2.6 逻辑电路

命题逻辑可应用于计算机硬件的设计。这是1938年克劳德·香浓首次发表并写在他的MIT硕士论文的。

**逻辑电路**（或**数字电路**）接受输入信号，每个信号1位[或0（关）或1（开）]，产生输出信号，每个1位。

复杂的数字电路可以由三种简单的基本电路：**与门（AND gate）**、**或门（OR gate）**、**非门（NOT gate）**电路构造而来。非门电路也称**逆变器**。
